window.__require=function t(e,n,o){function i(c,s){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!s&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var p=n[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,n,o)}return n[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)i(o[c]);return i}({BanPhimTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"f28a6gGsthGSbAU837Uux9B","BanPhimTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,l=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._infoBet=null,e.totalBet=0,e}return i(e,t),e.prototype.init=function(t){a.Windown.TaiXiu.sound.playClick(),this.node.active=!0,this._infoBet=t,this.totalBet=0},e.prototype.onClickNum=function(t,e,n){if(void 0===n&&(n=!0),cc.log("data: "+e),this._infoBet){n&&a.Windown.TaiXiu.sound.playClick();var o=parseInt(e);this.totalBet+=o,a.Windown.User.userAg<1e3?a.Windown.TaiXiu.showLog("M\u1ee9c c\u01b0\u1ee3c t\u1ed1i ti\u1ec3u l\xe0 1.000"):(this.totalBet=cc.misc.clampf(this.totalBet,0,a.Windown.User.userAg),this._infoBet.setMoneyTempBet(this.totalBet))}},e.prototype.onClickHuy=function(){this.totalBet=0,this.node.active=!1,this._infoBet&&this._infoBet.onHuyBet(),a.Windown.TaiXiu.sound.playClick()},e.prototype.onClickDongY=function(){if(0!=this.totalBet&&null!=this._infoBet){var t=s.ConectManager.getIns().getSFSObj();t.putInt("type",this._infoBet.type),t.putLong("bet",this.totalBet),a.Windown.TaiXiu.sendRequest(c.REQUEST_CODE.TXbet,t),a.Windown.TaiXiu.sound.playClick()}},e.prototype.reset=function(){this.totalBet=0,this.onClickNum(null,"0",!1)},e.prototype.onClickX2=function(){this.onClickNum(null,this._infoBet.lastBet),a.Windown.TaiXiu.sound.playClick()},r([p],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],BatDrag:[function(t,e,n){"use strict";cc._RF.push(e,"3821fZWQd1CqISYlOJC1cC9","BatDrag");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isTouch=!1,e._v2OffsetChange=null,e._isOpenBat=!1,e.updateTimer=0,e.updateInterval=0,e.isNan=!0,e.vecStart=null,e}return i(e,t),e.prototype.onLoad=function(){this.updateInterval=.2,this.updateTimer=0,this.vecStart=this.node.getPosition()},e.prototype.startGame=function(){this.reset(),this.getComponent(cc.Animation).play("EffectDongBat")},e.prototype.reset=function(){this.node.opacity=255,this.node.setPosition(this.vecStart),this.getComponent(cc.Animation).stop()},e.prototype.setIsNan=function(t){this.isNan=t},e.prototype.handleFinish=function(){this.isNan?this.canDrag():(this._isTouch=!1,this.openBat())},e.prototype.checkOpenBat=function(){this._isOpenBat||(this.offDrag(),this.node.getPosition().subSelf(this.vecStart).mag()<5?(this.openBat(),cc.log("nhay vao openBat")):(cc.log("nhay vao forceOpenbat"),this.forceOpenbat()))},e.prototype.canDrag=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this._isOpenBat=!1},e.prototype.touchStart=function(t){var e=cc.v2(t.getLocation()),n=this.node.parent.convertToNodeSpaceAR(e);this._v2OffsetChange=this.node.getPosition().subSelf(n),this._isTouch=!0,t.stopPropagation()},e.prototype.touchMove=function(t){if(this._isTouch){var e=cc.v2(t.getLocation()),n=this.node.parent.convertToNodeSpaceAR(e);this.node.setPosition(n.add(this._v2OffsetChange))}t.stopPropagation()},e.prototype.touchEnd=function(t){this._isTouch=!1,t.stopPropagation()},e.prototype.update=function(t){this._isOpenBat||(this.updateTimer+=t,this.updateTimer<this.updateInterval||(this.updateTimer=0,this.node.getPosition().subSelf(this.vecStart).mag()>150&&(this._isOpenBat=!0,this.offDrag(),c.Windown.TaiXiu.handleFinish())))},e.prototype.offDrag=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.runAction(cc.fadeOut(.4)),this._isOpenBat=!0},e.prototype.openBat=function(){this._isTouch||this.node.runAction(cc.moveTo(1,cc.v2(-7,-486))),c.Windown.TaiXiu&&c.Windown.TaiXiu.handleFinish(),this._isOpenBat=!0},e.prototype.forceOpenbat=function(){if(c.Windown.TaiXiu){c.Windown.TaiXiu.handleFinish();var t=this.node.getPosition().subSelf(this.vecStart);t.normalizeSelf().mulSelf(300),this.node.runAction(cc.moveTo(.3,t))}},r([a],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ChatTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"cf8f3ovChBAm4fdQnC32uyg","ChatTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Network/ConectManager"),a=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrChat=null,e.itemChat=null,e.edbChat=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setInfo=function(t){for(var e=Math.min(20,t.size()),n=t.size()-e,o=t.size();n<o;n++)this.addItemMess(t.getSFSObject(n));this.scrChat.scrollToBottom(.3)},e.prototype.addItemMess=function(t){var e=this,n=t.get("username");n.length>15&&(n=n.substr(0,12)+"...");var o,i=t.get("mes");this.scrChat.content.childrenCount<20?(o=cc.instantiate(this.itemChat),this.scrChat.content.addChild(o)):(o=cc.instantiate(this.itemChat),this.scrChat.content.addChild(o),setTimeout(function(){e.scrChat.content.children[0],e.scrChat.scrollToBottom()},500));var r=o.children[0].getComponent(cc.Label),c=o.children[0].children[0].getComponent(cc.Label);r.string=n+": "+i,c.string=n+": ",n==a.Windown.User.nickName||n==a.Windown.User.userName?(c.node.color=cc.Color.GREEN,r.node.color=(new cc.Color).fromHEX("#00ADFF")):"admin"==n.toLocaleLowerCase()?(c.node.color=cc.Color.RED,r.node.color=cc.Color.GREEN):(c.node.color=cc.Color.YELLOW,r.node.color=cc.Color.WHITE),o.active=!0},e.prototype.onClickSend=function(){if(""!=this.edbChat.string.trim()){var t=s.ConectManager.getIns().getSFSObj();t.putUtfString("mes",this.edbChat.string),a.Windown.TaiXiu.sendRequest(c.REQUEST_CODE.TXChat,t),a.Windown.TaiXiu.sound.playClick(),this.edbChat.string=""}},r([l(cc.ScrollView)],e.prototype,"scrChat",void 0),r([l(cc.Node)],e.prototype,"itemChat",void 0),r([l(cc.EditBox)],e.prototype,"edbChat",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],ChiTietPhien:[function(t,e,n){"use strict";cc._RF.push(e,"0bf8dPlDgtLH4DJxMXhdRAS","ChiTietPhien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Parent/BaseScrollView"),a=t("../../../Scritps/Popup/PageData/PageData"),u=t("../../../Scritps/Windown"),p=cc._decorator,l=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrTai=null,e.scrXiu=null,e.parentResult=null,e.lbPhien=null,e.lbSumTai=null,e.lbSumXiu=null,e.lbMd5=null,e.lbMd5Raw=null,e.skeWin=null,e.pageDate=null,e.iconTai=null,e.iconXiu=null,e.arrHistory=null,e.xTai=-287.397,e.xXiu=303.528,e}return i(e,t),e.prototype.start=function(){u.Windown.TaiXiu&&u.Windown.TaiXiu.sendRequest(c.REQUEST_CODE.TXinfoRoundBetOld,null)},e.prototype.responseServer=function(t){var e=t.getSFSArray("data");this.arrHistory=e,this.pageDate.setTotalPage(e.size(),!0),u.Windown.UIManager.hideLoading()},e.prototype.onChangePage=function(t){for(var e=this.arrHistory.getSFSObject(t-1),n=JSON.parse(e.get("view")),o=e.get("result"),i=e.get("rounds"),r=e.get("MD5"),c=e.get("MD5finish"),s=e.getSFSArray("dataTai"),a=e.getSFSArray("dataXiu"),p=[],l=[],h=0,d=0,f=0,y=s.size();f<y;f++){var g=s.getSFSObject(f);p.push(g),h+=g.get("agBet")}for(f=0,y=a.size();f<y;f++)g=a.getSFSObject(f),l.push(g),d+=g.get("agBet");this.scrTai.resetScr(),this.scrXiu.resetScr(),this.scrTai.init(p),this.scrXiu.init(l),this.parentResult.children.forEach(function(t,e){t.getComponent(sp.Skeleton).setAnimation(0,n[e].toString(),!1)}),this.lbPhien.string="#"+i,this.setInfoSkeWin(o),this.lbMd5.string=r,this.lbMd5Raw.string=c,this.lbSumTai.string=u.Windown.formatNumber(h),this.lbSumXiu.string=u.Windown.formatNumber(d)},e.prototype.setInfoSkeWin=function(t){t>10?(this.skeWin.node.x=this.xTai,this.skeWin.setAnimation(0,"tai",!0),this.iconTai.active=!1,this.iconXiu.active=!0):(this.skeWin.node.x=this.xXiu,this.skeWin.setAnimation(0,"xiu",!0),this.iconTai.active=!0,this.iconXiu.active=!1)},e.prototype.onClickClose=function(){u.Windown.TaiXiu&&(u.Windown.TaiXiu.chiTietPhien=null),this.node.destroy()},e.prototype.onClickCopyMd5=function(){u.Windown.coppyToClip(this.lbMd5.string)},e.prototype.onClickCopyMd5Raw=function(){u.Windown.coppyToClip(this.lbMd5Raw.string)},r([h(s.default)],e.prototype,"scrTai",void 0),r([h(s.default)],e.prototype,"scrXiu",void 0),r([h(cc.Node)],e.prototype,"parentResult",void 0),r([h(cc.Label)],e.prototype,"lbPhien",void 0),r([h(cc.Label)],e.prototype,"lbSumTai",void 0),r([h(cc.Label)],e.prototype,"lbSumXiu",void 0),r([h(cc.Label)],e.prototype,"lbMd5",void 0),r([h(cc.Label)],e.prototype,"lbMd5Raw",void 0),r([h(sp.Skeleton)],e.prototype,"skeWin",void 0),r([h(a.default)],e.prototype,"pageDate",void 0),r([h(cc.Node)],e.prototype,"iconTai",void 0),r([h(cc.Node)],e.prototype,"iconXiu",void 0),r([l],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Parent/BaseScrollView":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0}],HistoryTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"ff4fcF+IXRDPIdqd6qFPT61","HistoryTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e.itemTemp=null,e.listSp=[],e.xStart=-1,e.listHistory=[],e}return i(e,t),e.prototype.onLoad=function(){this.xStart=this.itemTemp.x},e.prototype.init=function(t){this.listHistory=t;for(var e=cc.misc.clampf(t.length-18,0,t.length-2),n=this.itemTemp.width,o=this.xStart,i=e,r=t.length;i<r;i++){var c=this.parentItem.children[i-e];null==c&&((c=cc.instantiate(this.itemTemp)).parent=this.parentItem),c.stopAllActions(),c.x=o,c.getComponent(cc.Sprite).spriteFrame=this.listSp[t[i].result>10?0:1],o+=n+5.3}var s=this.parentItem.children[this.parentItem.childrenCount-1];s&&(s.scale=1.2,s.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.3,.8),cc.scaleTo(.3,1.2)))))},e.prototype.addResult=function(t,e){var n=Object.create(null);n.result=t,n.view=e,this.listHistory.shift(),this.listHistory.push(n),this.init(this.listHistory,!0)},r([a(cc.Node)],e.prototype,"parentItem",void 0),r([a(cc.Node)],e.prototype,"itemTemp",void 0),r([a([cc.SpriteFrame])],e.prototype,"listSp",void 0),r([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],HuongDan:[function(t,e,n){"use strict";cc._RF.push(e,"1063alBA/dIzqKPqymR44h3","HuongDan");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onClickClose=function(){this.node.destroy()},e.prototype.onClickOpenLink=function(){cc.sys.openURL("https://md5.services/")},r([s],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],InfoBetTX:[function(t,e,n){"use strict";cc._RF.push(e,"57cdbGQJOZM/ZhTcBUF9U9Z","InfoBetTX");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbBetTotal=null,e.lbCountUser=null,e.lbMeBet=null,e.lbMeTempBet=null,e.btnActiveBet=null,e.type=0,e.spineWin=null,e.icon=null,e.totalBet=0,e.lastBet=0,e}return i(e,t),e.prototype.setMoneyMeBet=function(t){this.lbMeBet.string=c.Windown.formatNumber(t),0==t&&(this.lbMeBet.string="",this.lastBet=this.totalBet,this.spineWin.node.active=!1,this.icon.active=!0),this.totalBet=t},e.prototype.setMoneyTempBet=function(t){this.lbMeTempBet.string=c.Windown.formatNumber(t)},e.prototype.setMoneyTotalUserBet=function(t){var e=c.Windown.formatNumber(t);this.lbBetTotal.string!=e&&this.lbBetTotal.node.runAction(cc.sequence(cc.scaleTo(.05,1.3),cc.scaleTo(.3,1))),this.lbBetTotal.string=e},e.prototype.setCountTotaluser=function(t){this.lbCountUser.string=c.Windown.formatNumber(t)},e.prototype.onWin=function(){this.spineWin.node.active=!0,this.icon.active=!1,this.spineWin.setAnimation(0,this.spineWin.animation,!0)},e.prototype.onClickBet=function(){c.Windown.TaiXiu.listInfo.forEach(function(t){t.onHuyBet()}),this.lbMeTempBet.node.parent.active=!0,this.lbMeTempBet.string="0",this.btnActiveBet.active=!1,c.Windown.TaiXiu.banPhim.init(this)},e.prototype.onHuyBet=function(){this.lbMeTempBet.node.parent.active=!1,this.btnActiveBet.active=!0},r([u(cc.Label)],e.prototype,"lbBetTotal",void 0),r([u(cc.Label)],e.prototype,"lbCountUser",void 0),r([u(cc.Label)],e.prototype,"lbMeBet",void 0),r([u(cc.Label)],e.prototype,"lbMeTempBet",void 0),r([u(cc.Node)],e.prototype,"btnActiveBet",void 0),r([u(cc.Integer)],e.prototype,"type",void 0),r([u(sp.Skeleton)],e.prototype,"spineWin",void 0),r([u(cc.Node)],e.prototype,"icon",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemChiTietPhien:[function(t,e,n){"use strict";cc._RF.push(e,"46d3cmoSNRJKYxA2We3DXFS","ItemChiTietPhien");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbTime=null,e.lbName=null,e.lbBet=null,e}return i(e,t),e.prototype.initItem=function(t){this.lbTime.string=c.Windown.formatDate(new Date(t.get("timeBet")),"HH:mm:ss"),this.lbName.string=t.get("name"),this.lbBet.string=c.Windown.formatNumber(t.get("agBet"))},r([u(cc.Label)],e.prototype,"lbTime",void 0),r([u(cc.Label)],e.prototype,"lbName",void 0),r([u(cc.Label)],e.prototype,"lbBet",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],ItemTopTx:[function(t,e,n){"use strict";cc._RF.push(e,"b276c7Z0cpB2resRj2n2r/Y","ItemTopTx");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0}),t("../../../Scritps/DefineTs/REQUEST_CODE"),t("../../../Scritps/Network/ConectManager");var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idPlayer=null,e}return i(e,t),e.prototype.initItem=function(t){var e=this.getComponentsInChildren(cc.Label);e[1].string=t.get("nickname"),e[2].string=c.Windown.formatNumber(t.get("agWin"),!1);var n=cc.find("ava",this.node).getComponent(cc.Sprite);this.idPlayer=t.get("iduser"),c.Windown.updateAvatar(t,n)},e.prototype.start=function(){},e.prototype.onDestroy=function(){},e.prototype.onClick=function(){},r([a],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Windown":void 0}],LichSuCuoc:[function(t,e,n){"use strict";cc._RF.push(e,"541b7z2VoZHNbTFPrmHaAaU","LichSuCuoc");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Popup/PageData/PageData"),a=t("../../../Scritps/Windown"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageDate=null,e.parentItem=null,e.maxRow=7,e.listData=null,e}return i(e,t),e.prototype.start=function(){a.Windown.TaiXiu.sendRequest(c.REQUEST_CODE.TXhistoryBet,null)},e.prototype.response=function(t){cc.log(a.Windown.SFSObjToJson(t));var e=t.getSFSArray("history");e._dataHolder.reverse();var n=e.size(),o=parseInt(n/this.maxRow);n%this.maxRow>0&&o++,0==o&&(o=1),this.listData=e,this.pageDate.setTotalPage(o),this.onChangePage(1)},e.prototype.onChangePage=function(t){for(var e=this.parentItem,n=e.children,o=n[0],i=(t-1)*this.maxRow,r=0,c=this.maxRow;r<c;r++){var s=n[r];if(i<this.listData.size()){null==s&&(s=cc.instantiate(o),e.addChild(s),s.y=-(r+1)*s.height+s.height/2);var a=this.listData.getSFSObject(i);this.initItem(s,a,r),s.active=!0,i++}else{if(!s)break;s.active=!1}}},e.prototype.initItem=function(t,e,n){var o=t.getComponentsInChildren(cc.Label),i=e.get("info");o[0].string="#"+e.get("round"),o[1].string=a.Windown.formatDate(new Date(e.get("time")),"dd/MM\nHH:mm:ss"),o[2].string=a.Windown.formatNumber(e.get("bet"),!1),t.getComponentInChildren(cc.Sprite).enabled=n%2==0;var r="";e.get("agWin")<=0?(o[3].string="-"+a.Windown.formatNumber(e.get("bet"),!1),o[3].node.color=cc.Color.RED,r="T\xe0i"==i?"X\u1ec9u":"T\xe0i"):(o[3].string="+"+a.Windown.formatNumber(e.get("agWin"),!1),o[3].node.color=cc.Color.GREEN,r="T\xe0i"==i?"T\xe0i":"X\u1ec9u"),o[4].string="K\u1ebft qu\u1ea3: "+i+"\n\u0110\u1eb7t "+r+": "+a.Windown.formatNumber(e.get("bet"))+" Nh\u1eadn: "+a.Windown.formatNumber(e.get("agWin"))},e.prototype.onClickClose=function(){a.Windown.TaiXiu&&(a.Windown.TaiXiu.lichSuCuoc=null),this.node.destroy()},r([l(s.default)],e.prototype,"pageDate",void 0),r([l(cc.Node)],e.prototype,"parentItem",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Popup/PageData/PageData":void 0,"../../../Scritps/Windown":void 0}],SoiCau:[function(t,e,n){"use strict";cc._RF.push(e,"f9f47ytNz5MwZ4VNOHL7XKi","SoiCau");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listSpKetQua=[],e.listSpTaiXiu=[],e.Cau1=null,e.Cau2=null,e.Cau3=null,e.Cau4=null,e.index=0,e}return i(e,t),e.prototype.start=function(){this.emitAllCau()},e.prototype.emitAllCau=function(){this.initCau1(),this.initCau2(),this.initCau3(),this.initCau4()},e.prototype.initCau1=function(){var t=this,e=cc.find("parentItem",this.Cau1),n=-451.117,o=63.783,i=c.Windown.TaiXiu.history.listHistory,r=e.children,s=r[0],a=0,u=-1,p=0,l=0;i.forEach(function(i,c){var h=i.result;h>10?p++:l++;var d=t.getSpTaiXiu(h),f=r[c];null==f&&((f=cc.instantiate(s)).parent=e),f.setPosition(cc.v2(n,o)),f.getComponent(cc.Sprite).spriteFrame=d,++a>=5?(n+=46.45,u*=-1,a=0):o+=33.8*u}),cc.find("tai",this.Cau1).getComponentInChildren(cc.Label).string=""+p,cc.find("xiu",this.Cau1).getComponentInChildren(cc.Label).string=""+l},e.prototype.initCau2=function(){var t=this,e=cc.find("parentItem",this.Cau2),n=-418.167,o=28.06,i=o,r=c.Windown.TaiXiu.history.listHistory.slice(),s=[],a=0,u=[];r.forEach(function(t,e){var n=t.result,o=n>10,i=!!(r[e+1]&&r[e+1].result>10);u.push(n),(++a>=5||o!=i)&&(a=0,s.push(u.slice()),u.length=0)}),u.length>0&&s.push(u.slice()),cc.log(JSON.stringify(s)),s=s.slice(cc.misc.clampf(s.length-20,0,s.length),s.length),cc.log(JSON.stringify(s));var p=0,l=e.children,h=l[0];l.forEach(function(t){return t.active=!1}),s.forEach(function(r){r.reverse(),r.forEach(function(i){var r=t.getSpResult(i),c=l[p];null==c&&((c=cc.instantiate(h)).parent=e),c.active=!0,c.setPosition(cc.v2(n,o)),c.getComponent(cc.Sprite).spriteFrame=r,o-=27.5,p++}),o=i,n+=44.1})},e.prototype.initCau3=function(){var t=this,e=cc.find("parentItem",this.Cau3),n=cc.find("Line",this.Cau3).getComponent(cc.Graphics);n.clear(!0);var o=-414.419,i=c.Windown.TaiXiu.history.listHistory.length,r=c.Windown.TaiXiu.history.listHistory.slice(cc.misc.clampf(i-21,0,i),i),s=e.children,a=s[0];n.lineWidth=5,r.forEach(function(i,r){var c=i.result,u=t.getSpResult(c),p=s[r];null==p&&((p=cc.instantiate(a)).parent=e),p.setPosition(cc.v2(o,14.775+8*(c-3))),0==r?n.moveTo(p.x,p.y):n.lineTo(p.x,p.y),p.getComponent(cc.Sprite).spriteFrame=u,o+=41.5}),n.stroke();var u=cc.find("Title",this.Cau3).getComponent(cc.Label),p=r[r.length-1],l=p.result,h=JSON.parse(p.view),d="Phi\xean g\u1ea7n nh\u1ea5t: "+(l>10?"T\xe0i":"X\u1ec9u")+"("+h[0]+"-"+h[1]+"-"+h[2]+")";u.string=d},e.prototype.initCau4=function(){for(var t=c.Windown.TaiXiu.history.listHistory.length,e=c.Windown.TaiXiu.history.listHistory.slice(cc.misc.clampf(t-21,0,t),t),n=function(t){var n=cc.find("parentItem"+t,o.Cau4),i=cc.find("parentItem",n),r=cc.find("Line",n).getComponent(cc.Graphics);r.clear(!0);var c=-414.419,s=i.children,a=s[0];r.lineWidth=4,e.forEach(function(e,n){var o=JSON.parse(e.view)[t-1],u=s[n];null==u&&((u=cc.instantiate(a)).parent=i),u.setPosition(cc.v2(c,26*(o-1)-157.713)),0==n?r.moveTo(u.x,u.y):r.lineTo(u.x,u.y),c+=41.5}),r.stroke()},o=this,i=1;i<4;i++)n(i)},e.prototype.onClickChangePage=function(t,e){"0"==e?(this.Cau1.active=!0,this.Cau2.active=!0,this.Cau3.active=!1,this.Cau4.active=!1):(this.Cau1.active=!1,this.Cau2.active=!1,this.Cau3.active=!0,this.Cau4.active=!0)},e.prototype.onToggleXiNgau=function(t,e){var n=JSON.parse(e);cc.find("parentItem"+n,this.Cau4).active=t.isChecked},e.prototype.getSpTaiXiu=function(t){return t>10?this.listSpTaiXiu[1]:this.listSpTaiXiu[0]},e.prototype.getSpResult=function(t){return this.listSpKetQua[t-3]},e.prototype.onClickClose=function(){c.Windown.TaiXiu&&(c.Windown.TaiXiu.soiCau=null),this.node.destroy()},r([u([cc.SpriteFrame])],e.prototype,"listSpKetQua",void 0),r([u([cc.SpriteFrame])],e.prototype,"listSpTaiXiu",void 0),r([u(cc.Node)],e.prototype,"Cau1",void 0),r([u(cc.Node)],e.prototype,"Cau2",void 0),r([u(cc.Node)],e.prototype,"Cau3",void 0),r([u(cc.Node)],e.prototype,"Cau4",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],SoundTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"46b169IDq5IRaHLV2Hj8z/l","SoundTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/Windown"),s=cc._decorator,a=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click=null,e.ketQua=null,e.lacxiNgau=null,e}return i(e,t),e.prototype.playClick=function(){c.Windown.AudioManager&&c.Windown.AudioManager.isActiveSound&&this.click.play()},e.prototype.playKetQua=function(){c.Windown.AudioManager&&c.Windown.AudioManager.isActiveSound&&this.ketQua.play()},e.prototype.playTungXucXac=function(){c.Windown.AudioManager&&c.Windown.AudioManager.isActiveSound&&this.lacxiNgau.play()},r([u(cc.AudioSource)],e.prototype,"click",void 0),r([u(cc.AudioSource)],e.prototype,"ketQua",void 0),r([u(cc.AudioSource)],e.prototype,"lacxiNgau",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../../Scritps/Windown":void 0}],TaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"857dbIExzlDg4uSgzwEaILu","TaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function c(t){try{a(o.next(t))}catch(e){r(e)}}function s(t){try{a(o.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,s)}a((o=o.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,o,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,o=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../../Scritps/DefineTs/EVENT_MANAGER"),u=t("../../../Scritps/DefineTs/REQUEST_CODE"),p=t("../../../Scritps/DefineTs/TextDefine"),l=t("../../../Scritps/Game/GAME_TYPE"),h=t("../../../Scritps/Network/ConectManager"),d=t("../../../Scritps/Other/DragMiniGame"),f=t("../../../Scritps/Other/OffMiniGame"),y=t("../../../Scritps/Windown"),g=t("./BanPhimTaiXiu"),v=t("./BatDrag"),m=t("./ChatTaiXiu"),T=t("./ChiTietPhien"),b=t("./HistoryTaiXiu"),_=t("./InfoBetTX"),S=t("./LichSuCuoc"),C=t("./SoiCau"),w=t("./SoundTaiXiu"),O=t("./TopTaiXiu"),R=cc._decorator,E=R.ccclass,W=R.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbMd5=null,e.lbMd5Raw=null,e.lbPhien=null,e.lbThongBao=null,e.nodeTimeGame=null,e.lbTimeEnd=null,e.listInfo=[],e.banPhim=null,e.history=null,e.lichSuCuoc=null,e.top=null,e.soiCau=null,e.parentResult=null,e.batDrag=null,e.lbAgWin=null,e.spineTungXucXac=null,e.chatView=null,e.sound=null,e.gameType=0,e.sfs=null,e.roomSFS=null,e.objFinish=null,e.chiTietPhien=null,e.funCountDown=null,e.funDelayUpBat=null,e.funDelayUpBat2=null,e.funAutoBet=null,e.isDelayLeave=!1,e}return i(e,t),e.prototype.start=function(){y.Windown.TaiXiu=this,this.gameType=l.default.TaiXiu,this.sfs=h.ConectManager.getIns().sfs,this.sfs.addEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom,this),this.sfs.addEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr,this),this.sfs.addEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse,this),cc.systemEvent.on(a.EVENT_MANAGER.onDisconnect,this.onDisconnect,this),cc.systemEvent.on(a.EVENT_MANAGER.CHANG_ROTATION,this.onChangRotate,this),cc.systemEvent.on(cc.game.EVENT_SHOW,this.eventShow,this),this.getComponent(d.default).nomalSize(),this.sendJoinRoom(),this.listInfo.forEach(function(t){t.onHuyBet(),t.setMoneyMeBet(0),t.setMoneyTotalUserBet(0)}),this.lbAgWin.node.active=!1,this.spineTungXucXac.node.active=!1,y.Windown.BtnMiniGame.onActiveTx(),this.onChangRotate(y.Windown.UIManager.isVertical),cc.sys.isNative&&jsb.Device.setKeepScreenOn(!0)},e.prototype.onDestroy=function(){y.Windown.TaiXiu=null},e.prototype.eventShow=function(){this.sendGetInfoRoom()},e.prototype.onChangRotate=function(t){cc.log("onChangRotate"),t?(this.node.rotation=-90,this.node.scale=.9):(this.node.rotation=0,this.node.scale=1)},e.prototype.onClickTest=function(){var t=this.batDrag.node.getPosition();this.batDrag.node.setPosition(80,80);var e=this.batDrag.node.getPosition().subSelf(t);cc.log("trc do"+e.toString()),e.normalizeSelf().mulSelf(300),cc.log(e.toString()),this.batDrag.node.runAction(cc.moveTo(.3,e))},e.prototype.sendJoinRoom=function(){y.Windown.UIManager.showLoading();var t=this.sfs.roomManager.getRoomListFromGroup("TX").find(function(t){return cc.log("value"+t.getVariable("cj").value),t.containsVariable("cj")&&t.getVariable("cj").value});t?(this.roomSFS=t,t.isJoined?this.sendGetInfoRoom():(cc.log("nhay vao send join rom: "+t),this.sfs.send(new SFS2X.JoinRoomRequest(t,null,-1)))):this.scheduleOnce(this.sendJoinRoom,3)},e.prototype.sendGetInfoRoom=function(){this.sendRequest(u.REQUEST_CODE.TXinfoRoom,h.ConectManager.getIns().getSFSObj())},e.prototype.userExitRoom=function(t){if("MD5"==t.room.groupId&&(cc.log("user exit room tx"),t.user.isItMe))return this.clear(),void this.node.destroy()},e.prototype.onJoinRoom=function(t){var e=t.room;"MD5"==e.groupId&&(cc.log("r\xf4m lak "+e.id),y.Windown.UIManager.hideLoading())},e.prototype.sendRequest=function(t,e){h.ConectManager.getIns().sendRequest(t,e,this.roomSFS)},e.prototype.showLog=function(t,e){void 0===e&&(e=2),this.lbThongBao.string=t;var n=this.lbThongBao.node.parent.parent;n.stopAllActions(),n.opacity=0,n.y=150,n.runAction(cc.sequence(cc.spawn(cc.moveTo(.3,0,120).easing(cc.easeQuarticActionOut()),cc.fadeIn(.3).easing(cc.easeQuarticActionOut())),cc.delayTime(e),cc.spawn(cc.moveTo(.3,0,150).easing(cc.easeQuarticActionIn()),cc.fadeOut(.3).easing(cc.easeQuarticActionIn()))))},e.prototype.onJoinRoomErr=function(){cc.log("onJoinRoomErr "),y.Windown.UIManager.hideLoading(),y.Windown.Dialog.showLog(p.TextDefine.ERR_JOIN_ROOM)},e.prototype.extResponse=function(t){var e=t.cmd,n=t.params;switch(e){case u.REQUEST_CODE.TXstartGame:this.startGameTaiXiu(n);break;case u.REQUEST_CODE.TXendGame:this.endGameTaiXiu(n);break;case u.REQUEST_CODE.TXbet:this.responseBet(n);break;case u.REQUEST_CODE.TXinfoRoundBetOld:this.chiTietPhien&&this.chiTietPhien.responseServer(n);break;case u.REQUEST_CODE.TXhistoryGame:break;case u.REQUEST_CODE.TXhistoryBet:this.lichSuCuoc&&this.lichSuCuoc.response(n);break;case u.REQUEST_CODE.TXtopGame:this.top&&this.top.responseServer(n);break;case u.REQUEST_CODE.TXinfoCurrentRoom:this.handleUpdateAllBet(n);break;case u.REQUEST_CODE.TXinfoRoom:this.initGame(n);break;case u.REQUEST_CODE.TXChat:this.chatView.addItemMess(n);break;default:cc.log("Khong vao Case Nao ca:"+e+"\n",y.Windown.SFSObjToJson(n))}},e.prototype.miniSize=function(){cc.isValid(this.node,!0)&&(this.parentResult.opacity=0)},e.prototype.normalSize=function(){this.node&&this.parentResult&&(this.parentResult.opacity=255,cc.log("normal size this.node.opacity:"+this.node.opacity))},e.prototype.initGame=function(t){y.Windown.UIManager.hideLoading(),cc.log(y.Windown.SFSObjToJson(t)),this.parentResult.children.forEach(function(t){t.getComponent(sp.Skeleton).setAnimation(0,null,!1)}),this.listInfo[1].setCountTotaluser(t.get("sizeT")),this.listInfo[1].setMoneyTotalUserBet(t.get("agBetT")),this.listInfo[1].setMoneyMeBet(t.get("UagBetT")),this.listInfo[0].setCountTotaluser(t.get("sizeX")),this.listInfo[0].setMoneyTotalUserBet(t.get("agBetX")),this.listInfo[0].setMoneyMeBet(t.get("UagBetX"));var e=t.get("isGame"),n=t.get("time"),o=t.get("rounds");if(this.setHistory(t.get("history"),e),t.containsKey("dataChat")&&this.chatView.setInfo(t.getSFSArray("dataChat")),this.batDrag.reset(),this.parentResult.active=!1,e)this.botAutoBet(n);else{var i=JSON.parse(t.get("view"));this.batDrag.handleFinish(),this.parentResult.active=!0,this.parentResult.children.forEach(function(t,e){t.getComponent(sp.Skeleton).setAnimation(0,i[e].toString(),!1)})}this.setupByStatusGame(e,n),this.lbPhien.string="#"+o,this.lbAgWin.node.active=!1,this.unschedule(this.funDelayUpBat),this.unschedule(this.funDelayUpBat2),this.spineTungXucXac.node.active=!1;var r=this.lbThongBao.node.parent.parent;r.stopAllActions(),r.opacity=0},e.prototype.setHistory=function(t,e){var n=JSON.parse(LZString.decompressFromBase64(t));this.history.init(n,e)},e.prototype.botAutoBet=function(t){var e=this;y.Windown.BotController&&y.Windown.RandomNumber(0,100)<60&&(this.unschedule(this.funAutoBet),this.scheduleOnce(this.funAutoBet=function(){var n=[1e3,1e4,5e4,1e5,5e5,1e6],o=n.filter(function(t){return t<y.Windown.User.userAg});if(o.length>0){var i=y.Windown.RandomNumber(0,2),r=h.ConectManager.getIns().getSFSObj();r.putInt("type",i),r.putLong("bet",o[y.Windown.RandomNumber(0,o.length)]),y.Windown.TaiXiu.sendRequest(u.REQUEST_CODE.TXbet,r),y.Windown.RandomNumber(0,100)<20&&e.scheduleOnce(function(){if((o=n.filter(function(t){return t<y.Windown.User.userAg})).length>0){var t=h.ConectManager.getIns().getSFSObj();t.putInt("type",i),t.putLong("bet",o[y.Windown.RandomNumber(0,o.length)]),y.Windown.TaiXiu.sendRequest(u.REQUEST_CODE.TXbet,t)}},y.Windown.RandomNumber(1,cc.misc.clampf(5,0,t-2)))}else y.Windown.restartGame()},y.Windown.RandomNumber(1,t-3)))},e.prototype.startGameTaiXiu=function(t){var e,n=this,o=t.get("round"),i=(t.get("MD5"),t.get("time"));this.listInfo.forEach(function(t){t.onHuyBet(),t.setMoneyMeBet(0),t.setMoneyTotalUserBet(0)}),this.lbPhien.string="#"+o,this.setupByStatusGame(!0,i),this.nodeTimeGame.active=!1,this.spineTungXucXac.node.active=!0,this.spineTungXucXac.setAnimation(0,"effect",!1),this.parentResult.children.forEach(function(t){t.getComponent(sp.Skeleton).setAnimation(0,"xi ngau bay "+y.Windown.RandomNumber(1,7),!1)}),this.scheduleOnce(this.funDelayUpBat=function(){n.scheduleOnce(n.funDelayUpBat2=function(){n.parentResult.active=!1},.5),n.batDrag.startGame(),n.scheduleOnce(function(){n.nodeTimeGame.active=!0},1)},1.8),this.objFinish=null,this.lbAgWin.node.active=!1,null===(e=this.sound)||void 0===e||e.playTungXucXac(),this.botAutoBet(i),this.isDelayLeave&&this.onClickClose()},e.prototype.endGameTaiXiu=function(t){cc.log(y.Windown.SFSObjToJson(t));var e=JSON.parse(t.get("view")),n=t.get("agWin"),o=(t.get("MD5"),t.get("time")),i=t.get("agUser");this.unschedule(this.funDelayUpBat),this.unschedule(this.funDelayUpBat2),this.parentResult.active=!0,this.parentResult.children.forEach(function(t,n){t.getComponent(sp.Skeleton).setAnimation(0,e[n].toString(),!1)}),this.setupByStatusGame(!1,o),this.objFinish=t,y.Windown.MoneyUser.pushDelayMoney(this.gameType,i,n),this.batDrag.handleFinish(),this.batDrag.isNan&&this.showLog("Xin m\u1eddi n\u1eb7n!",.5)},e.prototype.handleFinish=function(){var t=this.objFinish;if(null!=t){var e=JSON.parse(t.get("view")),n=t.get("agWin"),o=t.get("MD5");this.setLbMd5(o);var i=0;e.forEach(function(t){i+=t}),i>10?this.listInfo[1].onWin():this.listInfo[0].onWin(),this.history.addResult(i,t.get("view")),this.soiCau&&this.soiCau.emitAllCau(),n>0&&(this.lbAgWin.string="+"+y.Windown.formatNumber(n,!1),this.lbAgWin.node.active=!0,this.lbAgWin.node.opacity=255,this.lbAgWin.node.stopAllActions(),this.lbAgWin.node.y=-18,this.lbAgWin.node.runAction(cc.sequence(cc.moveTo(2,0,50).easing(cc.easeQuadraticActionOut()),cc.delayTime(2),cc.fadeOut(1)))),y.Windown.MoneyUser.removeDelay(this.gameType),y.Windown.TaiXiu.sound.playKetQua(),this.objFinish=null}},e.prototype.responseBet=function(t){y.Windown.Dialog.checkAndShowLog(t);var e=t.getInt("type"),n=t.getLong("bet"),o=t.getLong("ttBet"),i=t.get("ag");y.Windown.MoneyUser.subMoney(n,i),this.getInfoBetByType(e).setMoneyMeBet(o),this.banPhim.reset(),this.listInfo.forEach(function(t){return t.setMoneyTempBet(0)}),this.showLog("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng")},e.prototype.setLbMd5=function(){cc.Tween.stopAllByTarget(this.lbMd5)},e.prototype.setLbMd5Raw=function(t){var e=this;cc.Tween.stopAllByTarget(this.lbMd5Raw),cc.tween(this.lbMd5Raw).to(.3,{time:{value:1,progress:function(n,o,i,r){var c=n+(o-n)*r,s=cc.misc.lerp(0,t.length,c);return e.lbMd5Raw.string=t.substring(0,s),c}}}).start()},e.prototype.onClickCoppyMd5=function(){y.Windown.coppyToClip(this.lbMd5.string)},e.prototype.onClickCoppyMd5Raw=function(){y.Windown.coppyToClip(this.lbMd5Raw.string)},e.prototype.setupByStatusGame=function(t,e){var n=this;if(this.unschedule(this.funCountDown),e=parseInt(e),(e-=2)<0&&(e=0),t){this.nodeTimeGame.active=!0,this.lbTimeEnd.node.parent.active=!1;var o=this.nodeTimeGame.getComponentsInChildren(cc.Label);this.schedule(this.funCountDown=function(){e<10?(o[0].string="0",o[1].string=e):(o[0].string=e.toString()[0],o[1].string=e.toString()[1]),e--},1,e,.01)}else this.lbTimeEnd.string=e,this.nodeTimeGame.active=!1,this.lbTimeEnd.node.parent.active=!0,this.schedule(this.funCountDown=function(){n.lbTimeEnd.string=(e<10?"0":"")+e,--e<5&&n.batDrag.checkOpenBat()},1,e,.01)},e.prototype.handleUpdateAllBet=function(t){this.listInfo[1].setCountTotaluser(t.get("sizeT")),this.listInfo[1].setMoneyTotalUserBet(t.get("agBetT")),this.listInfo[0].setCountTotaluser(t.get("sizeX")),this.listInfo[0].setMoneyTotalUserBet(t.get("agBetX"))},e.prototype.clear=function(){cc.systemEvent.targetOff(this),this.sfs.removeEventListener(SFS2X.SFSEvent.USER_EXIT_ROOM,this.userExitRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN,this.onJoinRoom),this.sfs.removeEventListener(SFS2X.SFSEvent.ROOM_JOIN_ERROR,this.onJoinRoomErr),this.sfs.removeEventListener(SFS2X.SFSEvent.EXTENSION_RESPONSE,this.extResponse),this.objFinish&&(this.objFinish.get("agWin"),y.Windown.MoneyUser.removeDelay(this.gameType)),y.Windown.MoneyUser.endGameMOney(this.gameType)},e.prototype.getInfoBetByType=function(t){return 0==t?this.listInfo[0]:this.listInfo[1]},e.prototype.onDisconnect=function(){this.clear(),this.node.destroy()},e.prototype.onToggleBat=function(t){var e=t.isChecked;this.batDrag.setIsNan(e)},e.prototype.onClickClose=function(){if(y.Windown.BtnMiniGame.onDeActiveTx(),y.Windown.UIManager.parentMiniGame.getComponentInChildren(f.default)._touchStart(null),this.checkIsBet())this.node.setPosition(1e4,1e4),this.node.opacity=0,this.isDelayLeave=!0;else{this.node.active=!1,this.node.opacity=255;try{h.ConectManager.getIns().sendLeaveRoom(this.roomSFS)}catch(t){this.clear(),this.node.destroy()}}y.Windown.User.userAg<=1e3&&0==y.Windown.isFirtConnect&&y.Windown.UIManager.showBonusNap()},e.prototype.checkIsBet=function(){for(var t=0,e=this.listInfo;t<e.length;t++)if(e[t].totalBet>0)return!0;return!1},e.prototype.onClickChiTietPhien=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return y.Windown.UIManager.showLoading(),[4,y.Windown.loadRes(this.gameType.toString(),"Prefabs/ChiTietPhien",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=y.Windown.UIManager.parentPopup,this.chiTietPhien=e.getComponent(T.default),[2]}})})},e.prototype.onClickHuongDan=function(){return c(this,void 0,void 0,function(){var t;return s(this,function(e){switch(e.label){case 0:return y.Windown.UIManager.showLoading(),[4,y.Windown.loadRes(this.gameType.toString(),"Prefabs/HuongDan",cc.Prefab)];case 1:return t=e.sent(),cc.instantiate(t).parent=y.Windown.UIManager.parentPopup,y.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickSoiCau=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return y.Windown.UIManager.showLoading(),[4,y.Windown.loadRes(this.gameType.toString(),"Prefabs/SoiCau",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=y.Windown.UIManager.parentPopup,this.soiCau=e.getComponent(C.default),y.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickLichSuCuoc=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return y.Windown.UIManager.showLoading(),[4,y.Windown.loadRes(this.gameType.toString(),"Prefabs/LichSuCuoc",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=y.Windown.UIManager.parentPopup,this.lichSuCuoc=e.getComponent(S.default),y.Windown.UIManager.hideLoading(),[2]}})})},e.prototype.onClickTop=function(){return c(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return y.Windown.UIManager.showLoading(),[4,y.Windown.loadRes(this.gameType.toString(),"Prefabs/TopTaiXiu",cc.Prefab)];case 1:return t=n.sent(),(e=cc.instantiate(t)).parent=y.Windown.UIManager.parentPopup,this.top=e.getComponent(O.default),y.Windown.UIManager.hideLoading(),[2]}})})},r([W(cc.Label)],e.prototype,"lbMd5",void 0),r([W(cc.Label)],e.prototype,"lbMd5Raw",void 0),r([W(cc.Label)],e.prototype,"lbPhien",void 0),r([W(cc.Label)],e.prototype,"lbThongBao",void 0),r([W(cc.Node)],e.prototype,"nodeTimeGame",void 0),r([W(cc.Label)],e.prototype,"lbTimeEnd",void 0),r([W(_.default)],e.prototype,"listInfo",void 0),r([W(g.default)],e.prototype,"banPhim",void 0),r([W(b.default)],e.prototype,"history",void 0),r([W(cc.Node)],e.prototype,"parentResult",void 0),r([W(v.default)],e.prototype,"batDrag",void 0),r([W(cc.Label)],e.prototype,"lbAgWin",void 0),r([W(sp.Skeleton)],e.prototype,"spineTungXucXac",void 0),r([W(m.default)],e.prototype,"chatView",void 0),r([W(w.default)],e.prototype,"sound",void 0),r([E],e)}(cc.Component);n.default=P,cc._RF.pop()},{"../../../Scritps/DefineTs/EVENT_MANAGER":void 0,"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/DefineTs/TextDefine":void 0,"../../../Scritps/Game/GAME_TYPE":void 0,"../../../Scritps/Network/ConectManager":void 0,"../../../Scritps/Other/DragMiniGame":void 0,"../../../Scritps/Other/OffMiniGame":void 0,"../../../Scritps/Windown":void 0,"./BanPhimTaiXiu":"BanPhimTaiXiu","./BatDrag":"BatDrag","./ChatTaiXiu":"ChatTaiXiu","./ChiTietPhien":"ChiTietPhien","./HistoryTaiXiu":"HistoryTaiXiu","./InfoBetTX":"InfoBetTX","./LichSuCuoc":"LichSuCuoc","./SoiCau":"SoiCau","./SoundTaiXiu":"SoundTaiXiu","./TopTaiXiu":"TopTaiXiu"}],TopTaiXiu:[function(t,e,n){"use strict";cc._RF.push(e,"c1c17E3ypRP6bi2UeaRmXpr","TopTaiXiu");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../../Scritps/DefineTs/REQUEST_CODE"),s=t("../../../Scritps/Windown"),a=t("./ItemTopTx"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.parentItem=null,e}return i(e,t),e.prototype.start=function(){s.Windown.TaiXiu.sendRequest(c.REQUEST_CODE.TXtopGame,null)},e.prototype.responseServer=function(t){for(var e=t.getSFSArray("data"),n=this.parentItem.children,o=0,i=cc.misc.clampf(e.size(),0,this.parentItem.childrenCount);o<i;o++){var r=e.getSFSObject(o),c=n[o];c.active=!0,c.getComponent(a.default).initItem(r)}for(o=cc.misc.clampf(e.size(),0,this.parentItem.childrenCount);o<n.length;o++)n[o].active=!1},e.prototype.onClickClose=function(){s.Windown.TaiXiu&&(s.Windown.TaiXiu.top=null),this.node.destroy()},r([l(cc.Node)],e.prototype,"parentItem",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../Scritps/DefineTs/REQUEST_CODE":void 0,"../../../Scritps/Windown":void 0,"./ItemTopTx":"ItemTopTx"}]},{},["BanPhimTaiXiu","BatDrag","ChatTaiXiu","ChiTietPhien","HistoryTaiXiu","HuongDan","InfoBetTX","ItemChiTietPhien","ItemTopTx","LichSuCuoc","SoiCau","SoundTaiXiu","TaiXiu","TopTaiXiu"]);